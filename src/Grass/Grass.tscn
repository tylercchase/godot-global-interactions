[gd_scene load_steps=14 format=3 uid="uid://pxqwyppfuqdv"]

[ext_resource type="Shader" path="res://src/Grass/Grass.gdshader" id="1_712md"]
[ext_resource type="Script" path="res://src/Grass/Grass.gd" id="1_y627i"]
[ext_resource type="Shader" path="res://src/Grass/grass_displacement.gdshader" id="3_3p4ye"]
[ext_resource type="Shader" path="res://src/Grass/grass_blade.gdshader" id="3_ar1p2"]

[sub_resource type="ViewportTexture" id="ViewportTexture_3b46d"]
viewport_path = NodePath("SubViewport")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_mfyuy"]
noise_type = 0

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_vyn6j"]
seamless = true
noise = SubResource("FastNoiseLite_mfyuy")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_dpks1"]
resource_local_to_scene = true
shader = ExtResource("1_712md")
shader_parameter/displace = SubResource("ViewportTexture_3b46d")
shader_parameter/rotation_noise = SubResource("NoiseTexture2D_vyn6j")
shader_parameter/rows = 300.0
shader_parameter/spacing = 0.079

[sub_resource type="ShaderMaterial" id="ShaderMaterial_hosif"]
render_priority = 0
shader = ExtResource("3_ar1p2")
shader_parameter/scale = Vector3(0.082, 0.247, 1)

[sub_resource type="ArrayMesh" id="ArrayMesh_pe4cq"]
_surfaces = [{
"aabb": AABB(-0.609766, 0, 0, 1.26657, 3.0363, 1e-05),
"attribute_data": PackedByteArray(0, 0, 128, 63, 0, 0, 128, 63, 0, 0, 0, 0, 0, 0, 128, 63, 0, 0, 0, 0, 0, 0, 0, 0),
"format": 4119,
"index_count": 3,
"index_data": PackedByteArray(0, 0, 1, 0, 2, 0),
"material": SubResource("ShaderMaterial_hosif"),
"primitive": 3,
"vertex_count": 3,
"vertex_data": PackedByteArray(83, 35, 40, 63, 0, 0, 0, 0, 0, 0, 0, 0, 255, 127, 255, 127, 255, 255, 255, 191, 160, 25, 28, 191, 0, 0, 0, 0, 0, 0, 0, 0, 255, 127, 255, 127, 255, 255, 255, 191, 84, 171, 47, 60, 181, 82, 66, 64, 0, 0, 0, 0, 255, 127, 255, 127, 255, 255, 255, 191)
}]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_extlo"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_6qdqu"]
noise = SubResource("FastNoiseLite_extlo")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_wi4g8"]
shader = ExtResource("3_3p4ye")
shader_parameter/noise = SubResource("NoiseTexture2D_6qdqu")

[node name="Grass" type="Node3D"]
transform = Transform3D(1, 0, -7.45058e-09, 0, 1, 0, 7.45058e-09, 0, 1, 0, 0, 0)
script = ExtResource("1_y627i")

[node name="Grass" type="GPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.934686, -3.76616)
amount = 100000
visibility_aabb = AABB(-23.2431, -4, -22.1655, 46.4862, 8, 44.331)
process_material = SubResource("ShaderMaterial_dpks1")
draw_pass_1 = SubResource("ArrayMesh_pe4cq")

[node name="Colliision" type="SubViewport" parent="."]
size = Vector2i(420, 420)
render_target_update_mode = 4

[node name="ColorRect" type="ColorRect" parent="Colliision"]
material = SubResource("ShaderMaterial_wi4g8")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 1)
